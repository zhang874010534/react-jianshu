{"version":3,"sources":["common/header/style.module.scss","common/header/index.jsx","common/header/store/actionCreator.js","pages/login/store/actionCreator.js","pages/detail/style.module.scss","pages/detail/images/detail_img1.png","pages/detail/index.jsx"],"names":["module","exports","Header","props","changeSearchInfo","state","page","totalPage","setState","focus","mouseIn","list","className","s","header","to","logo","write","btn","href","sign_up","log_in","this","isLogin","onClick","loginOut","headerFont","nav","home","download","style","position","type","name","id","search","placeholder","onFocus","onBlur","fangdajing","showSearchContent","start","end","search_info","onMouseEnter","onMouseLeave","search_header","hot_search","cursor","search_content","slice","map","item","key","Component","connect","value","getIn","dispatch","demo","axios","get","then","res","Detail","img","document","querySelector","append","detail_wrapper","title","dangerouslySetInnerHTML","__html","content","src","detail_img1","alt"],"mappings":"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","file":"static/js/hello.c8580f29.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__1GLhg\",\"btn\":\"style_btn__UZbxR\",\"write\":\"style_write__1j85m\",\"sign_up\":\"style_sign_up___bp27\",\"log_in\":\"style_log_in__202FQ\",\"headerFont\":\"style_headerFont__8sBOE\",\"logo\":\"style_logo__2i-wX\",\"nav\":\"style_nav__2M1B8\",\"home\":\"style_home__1pAgg\",\"download\":\"style_download__2c_MM\",\"search\":\"style_search__1pRnE\",\"fangdajing\":\"style_fangdajing__1CAAR\",\"search_info\":\"style_search_info__2sDDg\",\"search_header\":\"style_search_header__3nB3D\",\"search_content\":\"style_search_content__16VT-\"};","import React, { Component } from 'react';\r\nimport s from './style.module.scss';\r\nimport { connect } from 'react-redux';\r\nimport * as actionCreator from './store/actionCreator';\r\nimport * as LoginActionCreator from '../../pages/login/store/actionCreator';\r\nimport { Link } from 'react-router-dom';\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      focus: false,\r\n      mouseIn: false,\r\n      list: [\r\n        '学习1',\r\n        '学习2',\r\n        '学习3',\r\n        '学习4',\r\n        '学习5',\r\n        '学习6',\r\n        '读书7',\r\n        '读书8',\r\n        '读书9',\r\n        '读书10',\r\n        '读书11',\r\n        '读书12'\r\n      ],\r\n      page: 1,\r\n      totalPage: 2\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    // this.props.demo();\r\n  }\r\n  componentDidUpdate() {}\r\n  render() {\r\n    return (\r\n      <div className={s.header}>\r\n        {/* 左边logo */}\r\n        <Link to=\"/\" className={s.logo}></Link>\r\n        {/* 注册登录 */}\r\n        <Link to=\"/write\" className={`${s.write} ${s.btn}`}>\r\n          <span className=\"iconfont iconyumaobi\"></span>\r\n          写文章\r\n        </Link>\r\n        <a href=\"/sign_up\" className={`${s.sign_up} ${s.btn}`}>\r\n          注册\r\n        </a>\r\n        <div className={`${s.log_in} ${s.btn}`}>\r\n          {this.props.isLogin ? (\r\n            <div onClick={this.props.loginOut}>退出</div>\r\n          ) : (\r\n            <Link to=\"/sign_in\">登录</Link>\r\n          )}\r\n        </div>\r\n        <div className={`${s.btn} ${s.headerFont}`}>\r\n          <span className=\"iconfont iconAa\"></span>\r\n        </div>\r\n        {/* 中间首页、下载、搜索 */}\r\n        <div className={s.nav}>\r\n          <div>\r\n            <span className={s.home}>首页</span>\r\n          </div>\r\n          <div className={s.download}>下载App</div>\r\n          {/* 搜索 */}\r\n          <div style={{ position: 'relative' }}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"\"\r\n              id=\"\"\r\n              className={s.search}\r\n              placeholder=\"搜索\"\r\n              onFocus={() => {\r\n                this.setState({ focus: true });\r\n              }}\r\n              onBlur={() => {\r\n                this.setState({ focus: false });\r\n              }}\r\n            />\r\n            <span className={`iconfont iconfangdajing ${s.fangdajing}`}></span>\r\n\r\n            {/* 搜索提示框 */}\r\n            {this.showSearchContent(this.state.focus, this.state.mouseIn)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  showSearchContent(focus, mouseIn) {\r\n    let { page } = this.state;\r\n    let start = (page - 1) * 6;\r\n    let end = page * 6;\r\n    if (focus || mouseIn)\r\n      return (\r\n        <div\r\n          className={s.search_info}\r\n          onMouseEnter={() => {\r\n            this.setState({ mouseIn: true });\r\n          }}\r\n          onMouseLeave={() => {\r\n            this.setState({ mouseIn: false });\r\n          }}\r\n        >\r\n          <div className={s.search_header}>\r\n            <span className={s.hot_search}>热门搜索</span>\r\n            <span onClick={this.changeSearchInfo} style={{ cursor: 'pointer' }}>\r\n              换一批\r\n            </span>\r\n          </div>\r\n          <div className={s.search_content}>\r\n            {this.state.list.slice(start, end).map((item) => {\r\n              return (\r\n                <a href=\"/\" key={item}>\r\n                  {item}\r\n                </a>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      );\r\n    else return <div></div>;\r\n  }\r\n  changeSearchInfo = () => {\r\n    let { page, totalPage } = this.state;\r\n    if (page <= totalPage) {\r\n      page++;\r\n    }\r\n    this.setState({\r\n      page\r\n    });\r\n  };\r\n}\r\nconst mapStateToProps = (state /*, ownProps*/) => {\r\n  return {\r\n    value: state.getIn(['headerReducer', 'value']),\r\n    isLogin: state.getIn(['loginReducer', 'isLogin'])\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    demo() {\r\n      dispatch(actionCreator.getSearchItem());\r\n    },\r\n    // changeSearchInfo(){\r\n    //   dispatch({tpye:'change_search_info'})\r\n    // }\r\n\r\n    loginOut() {\r\n      dispatch(LoginActionCreator.loginOut());\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","// 可以考虑在这个里面把异步操作统一管理\r\n// redux-thunk使得dispatch可以传入一个函数\r\nimport axios from 'axios';\r\nexport const getSearchItem = () => {\r\n  return (dispatch) => {\r\n    axios.get('/api/demo.json').then((res) => {});\r\n  };\r\n};\r\n","// 如果header的退出要修改login的redux数据，应该引用\r\n// login的actionCreator进行处理\r\n\r\nexport const loginOut = () => {\r\n  return {\r\n    type: 'login_out',\r\n    value: false\r\n  };\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail_wrapper\":\"style_detail_wrapper__Wn_rK\",\"header\":\"style_header__2hHxj\",\"img_container\":\"style_img_container__2HQ3I\"};","module.exports = __webpack_public_path__ + \"static/media/detail_img1.f77f4964.png\";","import React, { Component, Fragment } from 'react';\r\nimport s from './style.module.scss';\r\nimport { connect } from 'react-redux';\r\nimport detail_img1 from './images/detail_img1.png';\r\nimport Header from '../../common/header/index';\r\nclass Detail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  componentDidMount() {\r\n    // 临时处理，真正的项目img的src肯定是在服务器上有地址的\r\n    let img = document.querySelector('#detailImg');\r\n    document.querySelector('#content').append(img);\r\n  }\r\n  render() {\r\n    // 这里面可以查询到参数  /detail/:id  的id\r\n    // console.log(this.props.match);\r\n    return (\r\n      <Fragment>\r\n        <Header></Header>\r\n        <div className={s.detail_wrapper}>\r\n          <div className={s.header}>{this.props.title}</div>\r\n          <div\r\n            dangerouslySetInnerHTML={{ __html: this.props.content }}\r\n            id=\"content\"\r\n          ></div>\r\n          <img src={detail_img1} alt=\"\" id=\"detailImg\" />\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapState = (state) => {\r\n  return {\r\n    title: state.getIn(['detailReducer', 'title']),\r\n    content: state.getIn(['detailReducer', 'content'])\r\n  };\r\n};\r\nexport default connect(mapState, null)(Detail);\r\n"],"sourceRoot":""}